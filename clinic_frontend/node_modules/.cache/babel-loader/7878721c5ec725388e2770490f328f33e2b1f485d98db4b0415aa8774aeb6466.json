{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gaura\\\\Music\\\\clinic_frontend\\\\src\\\\components\\\\admin\\\\AllDoctorsSchedulesThisWeek.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { adminApi, setAuthToken } from \"../../api\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DoctorSchedulesAccordion = ({\n  doctor\n}) => {\n  _s();\n  const [isExpanded, setIsExpanded] = useState(false);\n  const toggleExpansion = () => {\n    setIsExpanded(prev => !prev);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      onClick: toggleExpansion,\n      children: [doctor.doctorName, /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: toggleExpansion,\n        children: isExpanded ? \"-\" : \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }, this), isExpanded && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: Array.isArray(doctor.allDoctorSchedules) && doctor.allDoctorSchedules.length > 0 ? /*#__PURE__*/_jsxDEV(\"table\", {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 29,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Day\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 30,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 31,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: doctor.allDoctorSchedules.map(schedule => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: schedule.doc_DateOnly\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 37,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: schedule.dateOfWeek\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 38,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: `${schedule.startTime_TimeOnly} - ${schedule.endTime_TimeOnly}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 21\n            }, this)]\n          }, schedule.seduleId, true, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No schedules available for this week.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 5\n  }, this);\n};\n_s(DoctorSchedulesAccordion, \"FPNvbbHVlWWR4LKxxNntSxiIS38=\");\n_c = DoctorSchedulesAccordion;\nconst AllDoctorsSchedulesThisWeek = () => {\n  _s2();\n  const [allDoctorsSchedulesThisWeek, setAllDoctorsSchedulesThisWeek] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const navigate = useNavigate();\n  const handleViewSchedules = async () => {\n    setAuthToken();\n    setIsLoading(true);\n    try {\n      // Fetch all doctors' schedules for this week\n      const response = await adminApi.getAllDoctorsSchedulesThisWeek();\n      setAllDoctorsSchedulesThisWeek(response.data.doctorsSchedulesThisWeek);\n    } catch (error) {\n      console.error(\"Error fetching all doctors' schedules for this week:\", error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleCopyCurrentWeekSchedules = async () => {\n    setAuthToken();\n    try {\n      // Copy current week schedules\n      await adminApi.copyCurrentWeekSchedules();\n      // Optionally, you can fetch schedules again after copying\n      handleViewSchedules();\n      to;\n    } catch (error) {\n      console.error(\"Error copying current week schedules:\", error);\n    }\n  };\n  useEffect(() => {\n    // Fetch the schedules when the component mounts\n    handleViewSchedules();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"All Doctors' Schedules This Week\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleViewSchedules,\n      disabled: isLoading,\n      children: isLoading ? \"Loading...\" : \"View Schedules\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleCopyCurrentWeekSchedules,\n      children: \"Copy Current Week Schedules\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), Array.isArray(allDoctorsSchedulesThisWeek) && allDoctorsSchedulesThisWeek.length > 0 ? allDoctorsSchedulesThisWeek.map(doctor => /*#__PURE__*/_jsxDEV(DoctorSchedulesAccordion, {\n      doctor: doctor\n    }, doctor.doctorId, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No doctors with schedules available for this week.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n};\n_s2(AllDoctorsSchedulesThisWeek, \"u3Hx5RTLY9FasOKnoW/IeHRWwc4=\", false, function () {\n  return [useNavigate];\n});\n_c2 = AllDoctorsSchedulesThisWeek;\nexport default AllDoctorsSchedulesThisWeek;\nvar _c, _c2;\n$RefreshReg$(_c, \"DoctorSchedulesAccordion\");\n$RefreshReg$(_c2, \"AllDoctorsSchedulesThisWeek\");","map":{"version":3,"names":["React","useState","useEffect","adminApi","setAuthToken","useNavigate","jsxDEV","_jsxDEV","DoctorSchedulesAccordion","doctor","_s","isExpanded","setIsExpanded","toggleExpansion","prev","children","onClick","doctorName","fileName","_jsxFileName","lineNumber","columnNumber","Array","isArray","allDoctorSchedules","length","map","schedule","doc_DateOnly","dateOfWeek","startTime_TimeOnly","endTime_TimeOnly","seduleId","_c","AllDoctorsSchedulesThisWeek","_s2","allDoctorsSchedulesThisWeek","setAllDoctorsSchedulesThisWeek","isLoading","setIsLoading","navigate","handleViewSchedules","response","getAllDoctorsSchedulesThisWeek","data","doctorsSchedulesThisWeek","error","console","handleCopyCurrentWeekSchedules","copyCurrentWeekSchedules","to","disabled","doctorId","_c2","$RefreshReg$"],"sources":["C:/Users/gaura/Music/clinic_frontend/src/components/admin/AllDoctorsSchedulesThisWeek.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { adminApi, setAuthToken } from \"../../api\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst DoctorSchedulesAccordion = ({ doctor }) => {\r\n  const [isExpanded, setIsExpanded] = useState(false);\r\n\r\n  const toggleExpansion = () => {\r\n    setIsExpanded((prev) => !prev);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {/* <button onClick={toggleExpansion}>\r\n        {isExpanded ? \"-\" : \"+\"}\r\n      </button> */}\r\n      <h3 onClick={toggleExpansion}>\r\n        {doctor.doctorName}\r\n        <button onClick={toggleExpansion}>\r\n        {isExpanded ? \"-\" : \"+\"}\r\n      </button>\r\n      </h3>\r\n      {isExpanded && (\r\n        <div>\r\n          {Array.isArray(doctor.allDoctorSchedules) && doctor.allDoctorSchedules.length > 0 ? (\r\n            <table>\r\n              <thead>\r\n                <tr>\r\n                  <th>Date</th>\r\n                  <th>Day</th>\r\n                  <th>Time</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {doctor.allDoctorSchedules.map((schedule) => (\r\n                  <tr key={schedule.seduleId}>\r\n                    <td>{schedule.doc_DateOnly}</td>\r\n                    <td>{schedule.dateOfWeek}</td>\r\n                    <td>{`${schedule.startTime_TimeOnly} - ${schedule.endTime_TimeOnly}`}</td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          ) : (\r\n            <p>No schedules available for this week.</p>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst AllDoctorsSchedulesThisWeek = () => {\r\n  const [allDoctorsSchedulesThisWeek, setAllDoctorsSchedulesThisWeek] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const handleViewSchedules = async () => {\r\n    setAuthToken();\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      // Fetch all doctors' schedules for this week\r\n      const response = await adminApi.getAllDoctorsSchedulesThisWeek();\r\n      setAllDoctorsSchedulesThisWeek(response.data.doctorsSchedulesThisWeek);\r\n    } catch (error) {\r\n      console.error(\"Error fetching all doctors' schedules for this week:\", error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n  const handleCopyCurrentWeekSchedules = async () => {\r\n    setAuthToken();\r\n\r\n    try {\r\n      // Copy current week schedules\r\n      await adminApi.copyCurrentWeekSchedules();\r\n      // Optionally, you can fetch schedules again after copying\r\n      handleViewSchedules();\r\n      to\r\n    } catch (error) {\r\n      console.error(\"Error copying current week schedules:\", error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Fetch the schedules when the component mounts\r\n    handleViewSchedules();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <h2>All Doctors' Schedules This Week</h2>\r\n      <button onClick={handleViewSchedules} disabled={isLoading}>\r\n        {isLoading ? \"Loading...\" : \"View Schedules\"}\r\n      </button>\r\n      \r\n      <button onClick={handleCopyCurrentWeekSchedules}>\r\n        Copy Current Week Schedules\r\n      </button>\r\n\r\n      {Array.isArray(allDoctorsSchedulesThisWeek) && allDoctorsSchedulesThisWeek.length > 0 ? (\r\n        allDoctorsSchedulesThisWeek.map((doctor) => (\r\n          <DoctorSchedulesAccordion key={doctor.doctorId} doctor={doctor} />\r\n        ))\r\n      ) : (\r\n        <p>No doctors with schedules available for this week.</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AllDoctorsSchedulesThisWeek;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}