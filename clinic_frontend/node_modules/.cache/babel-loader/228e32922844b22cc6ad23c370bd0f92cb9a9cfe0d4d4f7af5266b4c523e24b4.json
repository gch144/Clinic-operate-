{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gaura\\\\Music\\\\clinic_frontend\\\\src\\\\components\\\\doctor\\\\DisplayDoctorAppointments.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { doctorAPi, setAuthToken } from '../../api';\nimport EditAppointment from './EditAppointment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DisplayDoctorAppointments = () => {\n  _s();\n  const [appointments, setAppointments] = useState([]);\n  const [editingAppointmentId, setEditingAppointmentId] = useState(null);\n  setAuthToken();\n  const fetchAppointments = async () => {\n    try {\n      const response = await doctorAPi.displayDoctorAppointments();\n      setAppointments(response.data.appointments);\n      console.log('Doctor Appointments:', response.data.appointments);\n    } catch (error) {\n      console.error('Error fetching doctor appointments:', error);\n    }\n  };\n  useEffect(() => {\n    fetchAppointments();\n  }, []);\n  const handleEditAppointment = appointmentId => {\n    setEditingAppointmentId(appointmentId);\n  };\n  const handleUpdateSuccess = () => {\n    setEditingAppointmentId(null);\n    fetchAppointments();\n    console.log('Appointment updated successfully.');\n  };\n  const handleCancelEdit = () => {\n    setEditingAppointmentId(null);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Your Appointments\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), appointments.length > 0 ? /*#__PURE__*/_jsxDEV(\"table\", {\n      children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: appointments.map(appointment => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: appointment.appointmentDate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: appointment.startTime\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: editingAppointmentId === appointment.appointmentId ? /*#__PURE__*/_jsxDEV(EditAppointment, {\n              appointment: appointment,\n              onUpdateSuccess: handleUpdateSuccess,\n              onCancel: handleCancelEdit\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 21\n            }, this) : appointment.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: editingAppointmentId === appointment.appointmentId ?\n            /*#__PURE__*/\n            // You can add a cancel button in the EditAppointment component\n            // or handle it from here based on your UI requirements\n            _jsxDEV(\"button\", {\n              onClick: handleCancelEdit,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleEditAppointment(appointment.appointmentId),\n              children: \"Edit Appointment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 17\n          }, this)]\n        }, appointment.appointmentId, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No appointments available.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n_s(DisplayDoctorAppointments, \"7kzN4ebey0pEtQng+NjgsotWAfM=\");\n_c = DisplayDoctorAppointments;\nexport default DisplayDoctorAppointments;\nvar _c;\n$RefreshReg$(_c, \"DisplayDoctorAppointments\");","map":{"version":3,"names":["React","useState","useEffect","doctorAPi","setAuthToken","EditAppointment","jsxDEV","_jsxDEV","DisplayDoctorAppointments","_s","appointments","setAppointments","editingAppointmentId","setEditingAppointmentId","fetchAppointments","response","displayDoctorAppointments","data","console","log","error","handleEditAppointment","appointmentId","handleUpdateSuccess","handleCancelEdit","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","appointment","appointmentDate","startTime","onUpdateSuccess","onCancel","description","onClick","_c","$RefreshReg$"],"sources":["C:/Users/gaura/Music/clinic_frontend/src/components/doctor/DisplayDoctorAppointments.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { doctorAPi, setAuthToken } from '../../api';\r\nimport EditAppointment from './EditAppointment';\r\n\r\nconst DisplayDoctorAppointments = () => {\r\n  const [appointments, setAppointments] = useState([]);\r\n  const [editingAppointmentId, setEditingAppointmentId] = useState(null);\r\n\r\n  setAuthToken();\r\n\r\n  const fetchAppointments = async () => {\r\n    try {\r\n      const response = await doctorAPi.displayDoctorAppointments();\r\n      setAppointments(response.data.appointments);\r\n      console.log('Doctor Appointments:', response.data.appointments);\r\n    } catch (error) {\r\n      console.error('Error fetching doctor appointments:', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchAppointments();\r\n  }, []);\r\n\r\n  const handleEditAppointment = (appointmentId) => {\r\n    setEditingAppointmentId(appointmentId);\r\n  };\r\n\r\n  const handleUpdateSuccess = () => {\r\n    setEditingAppointmentId(null);\r\n    fetchAppointments();\r\n    console.log('Appointment updated successfully.');\r\n  };\r\n\r\n  const handleCancelEdit = () => {\r\n    setEditingAppointmentId(null);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Your Appointments</h2>\r\n      {appointments.length > 0 ? (\r\n        <table>\r\n          {/* ... (Table header) */}\r\n          <tbody>\r\n            {appointments.map(appointment => (\r\n              <tr key={appointment.appointmentId}>\r\n                <td>{appointment.appointmentDate}</td>\r\n                <td>{appointment.startTime}</td>\r\n                <td>\r\n                  {editingAppointmentId === appointment.appointmentId ? (\r\n                    <EditAppointment\r\n                      appointment={appointment}\r\n                      onUpdateSuccess={handleUpdateSuccess}\r\n                      onCancel={handleCancelEdit}\r\n                    />\r\n                  ) : (\r\n                    appointment.description\r\n                  )}\r\n                </td>\r\n                <td>\r\n                  {editingAppointmentId === appointment.appointmentId ? (\r\n                    // You can add a cancel button in the EditAppointment component\r\n                    // or handle it from here based on your UI requirements\r\n                    <button onClick={handleCancelEdit}>Cancel</button>\r\n                  ) : (\r\n                    <button onClick={() => handleEditAppointment(appointment.appointmentId)}>\r\n                      Edit Appointment\r\n                    </button>\r\n                  )}\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      ) : (\r\n        <p>No appointments available.</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DisplayDoctorAppointments;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}